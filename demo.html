<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>transformMatrix3D</title>
    <link rel="stylesheet" type="text/css" href="css/mediain.css">
</head>

<body>
    <div class="play-container">
        <div id="box1" srcUri="" class="mask"></div>
        <div id="box2" srcUri="" class="mask"></div>
        <!-- <div id="box3" class="mask">move</div> -->
        <video id="video-player" controls="controls" loop webkit-playsinline>
            <!-- <source src="videos/output.mp4" type="video/mp4" /> -->
            <!-- <source data_type="data_test1111.json" src="videos/bak.mp4" type="video/mp4" /> -->
            <!-- <source data_type="data_test1112.json" src="videos/test1112.mp4" type="video/mp4" /> -->
            <source data_type="data_test1114.json" src="videos/test1114.mp4" type="video/mp4" />
            <!-- <source src="videos/test4.m4v" type="video/mp4" /> -->
            <!-- <source src="videos/kk.mp4" type="video/mp4" /> -->
        </video>
        <!-- <canvas id="canvas-box" width="640" height="480"></canvas> -->
        <!-- <div id="video-box"></div> -->
    </div>
    <div class="btn-change-image">change</div>
    <!-- <img src="./images/testImg.png" id="image-box"> -->
    <script type="text/javascript" src="js/jquery-2.1.4.min.js"></script>
    <script type="text/javascript" src="js/matrix.min.js"></script>
    <script type="text/javascript" src="js/numeric-1.2.6.min.js"></script>
    <!-- <script type="text/javascript" src="src/data.min.js"></script> -->
    <script type="text/javascript" src="js/transform.js"></script>
    <!-- // <script type="text/javascript" src="js/comet.js"></script> -->
    <script type="text/javascript" src="js/mediain.js"></script>
    <script type="text/javascript">
    $(document).ready(function () {
        // canvasTransformObj.init($('#canvas-box')[0], $('#image-box')[0], $('#canvas-box').width(), $('#canvas-box').height());
        const BASEURL = '';
        const $videoPlayer = $('#video-player');
        mediain.init($videoPlayer);
        mediain.initMedia(function () {
            mediain.initBox('data/' + $videoPlayer.find('source').attr('data_type'), $('#box1'), 0);

            // mediain.initBox('./stable.json', $('#box2'), 1);

            // mediain.initData('./static1.json', $('#box3')); 
        });

        const imgPath = [
            'images/soundtooth_logo.png',
            'images/apple.png',
            'images/google.png'
        ];

        $('.btn-change-image').click(function(event) {
            /* Act on the event */
            const index = Math.round(Math.random() * (imgPath.length - 1));
            console.log(index);
            const img = imgPath[index];
            $('#box1').css({
                'background-image': 'url(' + img + ')'
            });
        });

        // mediain.initProgramedIO($('#box1'), BASEURL + 'api/adChangeState/vi', '{{$mac}}');
    });
    </script>
</body>
</html>
